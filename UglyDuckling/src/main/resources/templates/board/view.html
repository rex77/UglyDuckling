<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/basic">
<th:block layout:fragment="title">
	<title>this is view page</title>
</th:block>

<th:block layout:fragment="search">
	<div th:replace="fragments/common :: search"></div>
</th:block>

<th:block layout:fragment="content">

	<div class="container" th:object="${board}">
		<div class="containerbox">

			<div class="post-info">
				<span class="community-title"><a href="/board/list.do">ììœ ê²Œì‹œíŒ</a></span>

				<span class="post-list btn btn-light"><a
					href="/board/list.do">ëª©ë¡</a></span> <span class="post-list btn btn-light"><a
					th:onclick="deleteBoard([[ ${board.idx} ]], [[ *{makeQueryString(currentPageNo)} ]])">ì‚­ì œ</a></span>

				<span class="post-list btn btn-light" th:object="${params}"><a
					th:href="|@{/board/write.do}*{makeQueryString(currentPageNo)}&idx=${board.idx}|">ìˆ˜ì •</a></span>


			</div>

			<p class="post-title" th:text="*{title}">
		</div>

		<div class="row comment-box">
			<div class="user-circle">
				<i class="fa fa-user-circle"></i>
			</div>
			<div class="user-box">
				<div class="nick-box" th:text="*{writer}"></div>
				<div class="info-box">
					<span th:text="*{#temporals.format( insertTime, 'yyyy-MM-dd' )}"></span>
					<span>ì¡°íšŒ </span><span th:text="*{viewCnt}"></span>
				</div>
			</div>
		</div>

		<hr>
		<br>

		<div class="col-sm-12" th:text="*{content}"></div>
		<br> <br>

		<div class="">
			<span class="mr-3"><i class="fa fa-heart"> ì¢‹ì•„ìš” 0</i></span> <span
				class=""><i class="fa fa-comments"> ëŒ“ê¸€ 0</i></span>
		</div>

		<hr>

		<div class="comment">ëŒ“ê¸€</div>

		<ul>
			<li>
				<div class="row comment-box">
					<div class="user-circle">
						<i class="fa fa-user-circle"></i>
					</div>
					<div class="user-box">
						<div class="comment-nick-box">ì•„ìŠ¤íŒŒë¼ê±°ìŠ¤</div>
						<div class="comment-text-box">ğ™’ğ™ğ™®ğ™§ğ™–ğ™£ğ™¤...
							ğ™’ğ™ğ™®ğ™§ğ™–ğ™£ğ™¤...</div>
						<div class="comment-info-box">2020.07.16 14:25 ë‹µê¸€ì“°ê¸°</div>
					</div>
				</div>
			</li>
			<hr class="hrr">
			<li></li>
		</ul>

		<div class="comment-writer">
			<div class="comment-inbox">
				<span class="comment-writer-name">aspie</span> <span
					class="comment-counter">(0/150)</span>
				<textarea class="comment-inbox-text" placeholder="ëŒ“ê¸€ì„ ë‚¨ê²¨ë³´ì„¸ìš”"></textarea>
			</div>
			<div class="comment-attach">
				<a href="" class="comment-enter">ë“±ë¡</a>
			</div>
		</div>
	</div>

</th:block>

<th:block layout:fragment="add-content">

</th:block>

<th:block layout:fragment="css">
	<link th:href="@{/css/sb-admin-2.css}" rel="stylesheet">
	<link th:href="@{/css/Community_Detail.css}" rel="stylesheet">
</th:block>

<th:block layout:fragment="script">
	<script th:inline="javascript">
			/*<![CDATA[*/

			function deleteBoard(idx, queryString) {

	if (confirm(idx + "ë²ˆ ê²Œì‹œê¸€ì„ ì‚­ì œí• ê¹Œìš”?")) {
		var uri = /*[[ @{/board/delete.do} ]]*/;
		var html = "";

		html += '<form name="dataForm" action="'+uri+'" method="post">';
		html += '<input type="hidden" name="idx" value="'+idx+'" />';

		/*[- ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì„ ì˜¤ë¸Œì íŠ¸ í˜•íƒœë¡œ ë³€í™˜ -]*/
		queryString = new URLSearchParams(queryString);
		queryString.forEach(function(value, key) {
			if (isEmpty(value) == false) {
				html += '<input type="hidden" name="' + key + '" value="' + value + '" />';
			}
		});

		html += '</form>';

		$("body").append(html);
		document.dataForm.submit();
	}
}
			$(function() {
				$('.comment-inbox-text').keyup(
						function(e) {
							var content = $(this).val();
							$('.comment-counter').html(
									"(" + content.length + "/150)");
							$('.comment-enter').css("color", "rgb(15, 186, 0)")
									.css("background-color", "rgb(189, 244, 197)")
									.css("padding", "5px").css("border-radius",
											"3px");

							if (content.length > 150) {
								alert("150ìê¹Œì§€ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
								$(this).val(content.substring(0, 150));
								$('.comment-counter').html("(150/150)");
							}
						});
			});	
			
			/*[- end of function -]*/

			/*]]>*/
		</script>
</th:block>
</html>